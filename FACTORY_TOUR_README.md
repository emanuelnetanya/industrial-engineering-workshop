# 🏭 סיור במפעל תעשייתי - Factory Tour

משחק תלת-ממדי אינטראקטיבי המאפשר סיור וירטואלי במפעל ייצור מתקדם, המבוסס על Babylon.js ו-Next.js.

## 📁 מבנה הפרויקט

```
src/
├── app/
│   └── factory-tour/
│       └── page.tsx              # דף המשחק הראשי
│
└── lib/
    └── factory-tour/
        ├── types/
        │   └── index.ts          # הגדרות TypeScript
        │
        ├── environment/
        │   ├── createFloor.ts    # רצפת מפעל עם סימונים
        │   ├── createBuilding.ts # קירות, חלונות, גג
        │   └── createStairs.ts   # מדרגות ומעקות
        │
        ├── player/
        │   └── createPlayer.ts   # דמות שחקן מפורטת
        │
        ├── machines/
        │   └── createMachines.ts # 6 תחנות מכונות
        │
        ├── camera/
        │   └── createCamera.ts   # מצלמה עוקבת ותאורה
        │
        ├── animations/
        │   └── machineAnimations.ts # אנימציות מכונות
        │
        └── game/
            ├── gameState.ts      # מצב משחק ותחנות
            ├── playerMovement.ts # לוגיקת תנועה
            └── initGame.ts       # אתחול כללי
```

## 🎮 תכונות

### סביבת המפעל
- 🏗️ **בניין מלא** - קירות, חלונות, גג שקוף, שלט כניסה
- 🚶 **מערכת מדרגות** - 2 גרמי מדרגות עם מעקות בטיחות
- 📐 **פלטפורמה עליונה** - קומה שנייה למפקחים
- ⚠️ **סימוני בטיחות** - פסים צהובים על הרצפה

### 13 תחנות סיור
1. **נקודת התחלה** - מחוץ למפעל
2. **כניסה למפעל** - שער הכניסה הראשי
3. **לובי קבלה** - מרחב קבלת הפנים
4. **🤖 מכונת CNC** - מכונת כרסום ממוחשבת
5. **🏭 קו ייצור** - מסוע אוטומטי עם קופסאות
6. **🔥 רובוט ריתוך** - זרוע רובוטית מונפשת
7. **גשר עליון** - מעבר במפלס השני
8. **📦 מכונת אריזה** - אריזה אוטומטית
9. **✅ בקרת איכות** - עמדת בדיקה עם מיקרוסקופ
10. **📊 מחסן** - מדפים ממוכנים
11. **יציאה** - סיום הסיור
12. **שער יציאה**
13. **סיום** - תודה על הסיור!

### מכונות מפורטות
- **מכונת CNC**
  - בסיס גדול ויציב
  - גוף מפורט עם פאנל בקרה
  - ראש כרסום מסתובב
  - 4 נוריות LED מהבהבות
  - תאורה ייעודית

- **פס הולכה (Conveyor)**
  - חגורה עם טקסטורה נעה
  - 4 קופסאות נעות באופן אוטומטי
  - תומכים מתכתיים
  - תאורה תעשייתית

- **רובוט ריתוך**
  - בסיס מסתובב
  - 2 זרועות מפרקיות
  - ראש ריתוך זוהר
  - אור ריתוך כחול עז

- **מכונת אריזה**
  - מסגרת שקופה גדולה
  - 2 זרועות קופצות
  - פלטפורמה למוצרים

- **עמדת בקרת איכות**
  - שולחן עבודה
  - 2 מסכי מחשב זוהרים
  - מיקרוסקופ מפורט
  - כיסא

- **מחסן**
  - 4 יחידות מדפים
  - 5 רמות בכל יחידה
  - קופסאות מסודרות
  - תאורה חזקה

### דמות שחקן
- 👤 גוף מעוצב עם צבעי חברה
- 😊 ראש עם עיניים
- 🚶 אנימציות הליכה (זרועות ורגליים)
- 📐 התאמה אוטומטית לגובה (מדרגות)
- 🎥 תנודת Bob טבעית

### אנימציות
- 🔄 סיבוב מכונות
- 💫 נדנוד זרועות רובוטיות
- 💡 הבהוב נוריות LED
- 🔥 זוהר ריתוך
- ⬆️⬇️ קפיצת זרועות אריזה
- ➡️ תנועת קופסאות על המסוע
- 🎞️ טקסטורות נעות

### ממשק משתמש
- 🎨 מסך התחלה מעוצב
- 📋 הצגת מידע על כל תחנה
- ⌨️ הוראות שימוש
- 🇮🇱 תמיכה מלאה בעברית RTL

## 🚀 התחלה מהירה

### הרצת המשחק

```bash
npm run dev
```

פתח דפדפן וגש ל:
```
http://localhost:3000/factory-tour
```

## 🎯 איך לשחק

1. **לחץ על "התחל סיור"** - המשחק יתחיל
2. **הדמות תתחיל לנוע** - אוטומטית לתחנה הראשונה
3. **בכל תחנה:** יוצג מידע על התחנה
4. **לחץ ENTER** - למעבר לתחנה הבאה
5. **חזור על שלב 4** - עד סיום הסיור

### שליטה
- **ENTER**: מעבר לתחנה הבאה
- **עכבר**: סיבוב מצלמה (גרור)
- **גלגלת**: זום פנימה/החוצה

## 🛠️ התאמה אישית

### הוספת תחנות חדשות

ערוך את `src/lib/factory-tour/game/gameState.ts`:

```typescript
export const stations: Station[] = [
  {
    position: new BABYLON.Vector3(x, y, z),
    name: 'שם התחנה',
    description: 'תיאור התחנה',
    hasInfo: true // האם להציג מידע
  },
  // הוסף תחנות נוספות...
];
```

### שינוי מהירות תנועה

ערוך את `src/lib/factory-tour/game/gameState.ts`:

```typescript
export const gameState: GameState = {
  walkSpeed: 0.12,      // הגדל למהירות גבוהה יותר
  rotationSpeed: 0.15,  // מהירות סיבוב
  // ...
};
```

### הוספת מכונה חדשה

1. צור פונקציה ב-`src/lib/factory-tour/machines/createMachines.ts`
2. הוסף קריאה לפונקציה ב-`createAllMachines()`
3. הוסף אנימציות ב-`metadata` של המשים

## 📦 תלויות

### ייצור
- `@babylonjs/core` - מנוע תלת-ממד
- `@babylonjs/loaders` - טעינת מודלים
- `next` - מסגרת React
- `react` + `react-dom` - ספריית UI

## 🎨 עיצוב

### צבעים עיקריים
- **סגול-כחול**: `#667eea` - UI ראשי
- **סגול**: `#764ba2` - גרדיאנטים
- **אפור בהיר**: `#f5f7fa` - רקע
- **צהוב**: `#dda010` - אזהרות

### חומרים
1. **StandardMaterial** - רוב האובייקטים
2. **Diffuse Color** - צבע בסיסי
3. **Specular Color** - ברק מתכת
4. **Emissive Color** - זוהר (LED, מסכים)

## 🐛 פתרון בעיות

### המשחק לא נטען
1. ודא ש-Babylon.js מותקן: `npm install`
2. בדוק קונסולת הדפדפן לשגיאות
3. נסה לנקות cache: `rm -rf .next && npm run dev`

### ביצועים נמוכים
1. הקטן את מספר המכונות
2. הפחת את מספר האורות
3. השבת ערפל: `scene.fogMode = BABYLON.Scene.FOGMODE_NONE`

### הדמות לא נעה
1. בדוק שלחצת ENTER
2. ודא ש-`gameState.isActive === true`
3. בדוק שיש תחנות ב-`stations` array

## 📚 משאבים נוספים

- [תיעוד Babylon.js](https://doc.babylonjs.com/)
- [Next.js Docs](https://nextjs.org/docs)
- [Babylon.js Playground](https://playground.babylonjs.com/)
- [Babylon.js Examples](https://doc.babylonjs.com/examples/)

## 🔮 פיתוחים עתידיים

- [ ] מיני-משחקים בכל תחנה
- [ ] מערכת ניקוד
- [ ] אפקטי קול
- [ ] מודלים תלת-ממדיים (GLTF/GLB)
- [ ] מצב VR
- [ ] רב-משתתפים
- [ ] שמירת התקדמות
- [ ] עוד מכונות ותחנות
- [ ] מצב לילה/יום
- [ ] מזג אוויר דינמי

## 📊 סטטיסטיקות הפרויקט

- **קבצים**: 11 מודולים
- **תחנות**: 13 תחנות סיור
- **מכונות**: 6 מכונות מפורטות
- **שורות קוד**: ~1,500
- **גודל Build**: מינימלי (static)

## 📄 רישיון

פרויקט חינוכי - שימוש חופשי

---

**נוצר ב-Babylon.js 7.31 + Next.js 16 + TypeScript + Tailwind CSS**

🏭 תהנו מהסיור במפעל!
